<app-front-header></app-front-header>

<div class="container-fluid mt-1.2 bg-light higki">
  <div class="row">
    <div class="col-sm-8">
      <section
        class="accordion-section clearfix mt-3"
        aria-label="Question Accordions"
      >
        <div class="container">
          <div
            class="panel-group"
            id="accordion"
            role="tablist"
            aria-multiselectable="true"
          >
            <div class="panel panel-default" style="background-color: #ebedef">
              <div class="panel-heading p-3 mb-3" role="tab" id="heading0">
                <h3 class="panel-title">
                  <a
                    class="collapsed"
                    role="button"
                    title=""
                    data-toggle="collapse"
                    data-parent="#accordion"
                    href="#collapse0"
                    aria-expanded="true"
                    aria-controls="collapse0"
                  >
                    Customer Details
                  </a>
                </h3>
              </div>
              <div
                id="collapse0"
                class="panel-collapse collapse"
                [ngClass]="{ show: activeAccordion == 1 }"
                role="tabpanel"
                aria-labelledby="heading0"
              >
                <div class="panel-body px-3">
                  <!-- <a href="login" style="font-size:16px; color:black;"><b>Order as a
                                            guest</b></a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="login"
                                        style="font-size:16px; color:black;"> <b>Sign in</b></a> -->

                  <!-- main app container -->
                  <div class="jumbotron">
                    <div class="container">
                      <div class="row">
                        <div class="col-12">
                          <form
                            [formGroup]="registerForm"
                            (ngSubmit)="onSubmit()"
                          >
                            <div class="form-group row mb-2">
                              <label class="col-sm-3 col-12">
                                Social Title</label
                              >

                              <div class="col-sm-9 col-12">
                                <select
                                  formControlName="title"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && f.title.errors
                                  }"
                                  style="border: 1px solid black"
                                >
                                  <option value="">Select</option>
                                  <option value="Mr">Mr</option>
                                  <option value="Mrs">Mrs</option>
                                  <option value="Miss">Miss</option>
                                  <option value="Ms">Ms</option>
                                </select>
                                <div
                                  *ngIf="submitted && f.title.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="f.title.errors.required"
                                  >
                                    Please select title
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group row mb-2">
                              <label class="col-sm-3 col-12"> First Name</label>
                              <div class="col-sm-9 col-12">
                                <input
                                  type="text "
                                  formControlName="firstName"
                                  placeholder="First Name"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid':
                                      submitted && f.firstName.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && f.firstName.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="f.firstName.errors.required"
                                  >
                                    First Name is required
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group row mb-2">
                              <label class="col-sm-3 col-12">Last Name</label>

                              <div class="col-sm-9 col-12">
                                <input
                                  type="text"
                                  formControlName="lastName"
                                  placeholder="Last Name"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && f.lastName.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && f.lastName.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="f.lastName.errors.required"
                                  >
                                    Last Name is required
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group row mb-2">
                              <label class="col-sm-3 col-12">Email</label>
                              <div class="col-sm-9 col-12">
                                <input
                                  type="text"
                                  formControlName="email"
                                  placeholder="Email"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && f.email.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && f.email.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="f.email.errors.required"
                                  >
                                    Email is required
                                  </div>
                                  <div
                                    class="_error"
                                    *ngIf="f.email.errors.email"
                                  >
                                    Email must be a valid email address
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group row mb-2">
                              <label class="col-sm-3 col-9">Mobile No</label>
                              <div class="col-sm-9 col-12">
                                <input
                                  type="mobile"
                                  formControlName="mobile"
                                  placeholder="Mobile Number"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && f.mobile.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && f.mobile.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="f.mobile.errors.required"
                                  >
                                    Mobile number is required
                                  </div>
                                  <div
                                    class="_error"
                                    *ngIf="f.mobile.errors.minlength"
                                  >
                                    Number must be at least 10 characters
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group">
                              <button
                                class="btn btn-primary"
                                style="float: right"
                              >
                                Continue
                              </button>
                            </div>
                          </form>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="panel panel-default"
              *ngIf="customerDetailsValidated"
              style="background-color: #ebedef"
            >
              <div class="panel-heading p-3 mb-3" role="tab" id="heading1">
                <h3 class="panel-title">
                  <a
                    class="collapsed"
                    role="button"
                    title=""
                    data-toggle="collapse"
                    data-parent="#accordion"
                    href="#collapse1"
                    aria-expanded="true"
                    aria-controls="collapse1"
                  >
                    Delivery Address
                  </a>
                </h3>
              </div>
              <div
                id="collapse1"
                class="panel-collapse collapse"
                [ngClass]="{ show: activeAccordion == 2 }"
                role="tabpanel"
                aria-labelledby="heading1"
              >
                <div class="panel-body px-3" style="height: auto">
                  <!-- main app container -->
                  <div class="jumbotron">
                    <div class="container">
                      <div class="row">
                        <div class="col-12">
                          <form
                            [formGroup]="registerationForm"
                            (ngSubmit)="inSubmit()"
                          >
                            <div class="form-group row mb-2">
                              <label class="col-12 col-sm-3">First Name</label>
                              <div class="col-sm-9 col-12">
                                <input
                                  type="text"
                                  formControlName="firstName"
                                  placeholder="First Name"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid':
                                      submitted && g.firstName.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && g.firstName.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="g.firstName.errors.required"
                                  >
                                    First Name is required
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group row mb-2">
                              <label class="col-12 col-sm-3">Last Name</label>
                              <div class="col-sm-9 col-12">
                                <input
                                  type="text"
                                  formControlName="lastName"
                                  placeholder="Last Name"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && g.lastName.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && g.lastName.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="g.lastName.errors.required"
                                  >
                                    Last Name is required
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group row mb-2">
                              <label class="col-12 col-sm-3">Email</label>
                              <div class="col-sm-9 col-12">
                                <input
                                  type="text"
                                  formControlName="email"
                                  placeholder="Email"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && g.email.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && g.email.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="g.email.errors.required"
                                  >
                                    Email is required
                                  </div>
                                  <div
                                    class="_error"
                                    *ngIf="g.email.errors.email"
                                  >
                                    Email must be a valid email address
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div class="form-group row mb-2">
                              <label class="col-12 col-sm-3">Mobile No</label>
                              <div class="col-sm-9 col-12">
                                <input
                                  type="mobile"
                                  formControlName="mobile"
                                  placeholder="Mobile Number"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && g.mobile.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && g.mobile.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="g.mobile.errors.required"
                                  >
                                    Mobile number is required
                                  </div>
                                  <div
                                    class="_error"
                                    *ngIf="g.mobile.errors.minlength"
                                  >
                                    Number must be at least 10 characters
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group row mb-2">
                              <label class="col-12 col-sm-3">Address</label>
                              <div class="col-sm-9 col-12">
                                <input
                                  type="text"
                                  formControlName="address"
                                  placeholder="Address"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && g.address.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && g.address.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="g.address.errors.required"
                                  >
                                    <Address></Address> is required
                                  </div>
                                </div>
                              </div>
                            </div>

                            <div class="form-group row mb-2">
                              <label class="col-sm-3 col-12"> State</label>
                              <div class="col-sm-9 col-12">
                                <select
                                  formControlName="state"
                                  placeholder="Select State"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && g.state.errors
                                  }"
                                  style="border: 1px solid black"
                                >
                                  <option value="Mr">UK</option>
                                  <option value="Mrs">UP</option>
                                  <option value="Miss">Mp</option>
                                </select>
                              </div>
                            </div>
                            <div class="form-group row mb-2">
                              <label class="col-sm-3 col-12">City</label>
                              <div class="col-sm-9 col-12">
                                <input
                                  type="text"
                                  formControlName="city"
                                  placeholder="City"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && g.city.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && g.city.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="g.city.errors.required"
                                  >
                                    City Name is required
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group row mb-2">
                              <label class="col-sm-3 col-12">Pin Code</label>
                              <div class="col-sm-9 col-12">
                                <input
                                  type="mobile"
                                  formControlName="pin"
                                  placeholder="Pincode"
                                  class="form-control"
                                  [ngClass]="{
                                    'is-invalid': submitted && g.pin.errors
                                  }"
                                />
                                <div
                                  *ngIf="submitted && g.pin.errors"
                                  class="invalid-feedback"
                                >
                                  <div
                                    class="_error"
                                    *ngIf="g.pin.errors.required"
                                  >
                                    Pincode is required
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-group" style="float: right">
                              <button class="btn btn-primary">Continue</button>
                            </div>
                          </form>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- credits -->
                </div>
              </div>
            </div>

            <div
              class="panel panel-default"
              *ngIf="deliveryAddressFilled"
              style="background-color: #ebedef"
            >
              <div class="panel-heading p-3 mb-3" role="tab" id="heading2">
                <h3 class="panel-title">
                  <a
                    class="collapsed"
                    role="button"
                    title=""
                    data-toggle="collapse"
                    data-parent="#accordion"
                    href="#collapse2"
                    aria-expanded="true"
                    aria-controls="collapse2"
                  >
                    Shipping Method
                  </a>
                </h3>
              </div>
              <div
                id="collapse2"
                class="panel-collapse collapse"
                [ngClass]="{ show: activeAccordion == 3 }"
                role="tabpanel"
                aria-labelledby="heading2"
              >
                <div class="panel-body px-3 text-dark" style="height: 8rem">
                  <form
                    [formGroup]="deliveryMethodForm"
                    (ngSubmit)="deliveryMethodSubmit()"
                  >
                    <div class="form-group row mb-2">
                      <div class="form-group row mb-2">
                        <label class="col-sm-3 col-12">Express Delivery</label>
                        <div class="col-sm-9 col-12">
                          <input
                            type="radio"
                            formControlName="delivery_method"
                            value="express"
                            class="form-control"
                            [ngClass]="{
                              'is-invalid':
                                submitted && h.delivery_method.errors
                            }"
                          />
                        </div>
                      </div>
                      <div class="form-group row mb-2">
                        <label class="col-sm-3 col-12">Standard Delivery</label>
                        <div class="col-sm-9 col-12">
                          <input
                            type="radio"
                            formControlName="delivery_method"
                            value="standard"
                            class="form-control"
                            [ngClass]="{
                              'is-invalid':
                                submitted && h.delivery_method.errors
                            }"
                          />
                        </div>
                      </div>
                      <div
                        *ngIf="submitted && h.delivery_method.errors"
                        class="invalid-feedback"
                      >
                        <div
                          class="_error"
                          *ngIf="h.delivery_method.errors.required"
                        >
                          Delivery Method is required
                        </div>
                      </div>
                      <br />

                      <button
                        class="btn"
                        style="
                          float: right;
                          background-color: #0e8ce4;
                          color: #fff;
                        "
                      >
                        Continue
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>

            <div
              class="panel panel-default"
              *ngIf="deliveryMethodSelected"
              style="background-color: #ebedef"
            >
              <div class="panel-heading p-3 mb-3" role="tab" id="heading3">
                <h3 class="panel-title">
                  <a
                    class="collapsed"
                    role="button"
                    title=""
                    data-toggle="collapse"
                    data-parent="#accordion"
                    href="#collapse3"
                    aria-expanded="true"
                    aria-controls="collapse3"
                  >
                    Payment Mode
                  </a>
                </h3>
              </div>
              <div
                id="collapse3"
                class="panel-collapse collapse"
                [ngClass]="{ show: activeAccordion == 4 }"
                role="tabpanel"
                aria-labelledby="heading3"
              >
                <div class="panel-body px-3">
                  <!-- <label id="example-radio-group-label"
                                        style="font-weight:bold; font-size: 16px;">Select payment Method</label> -->

                  <!-- <label for="UPI" class="_2Fn-Ln _30jOKh _2KEUG6 _18Z3T6 _3L7Pww">
                                        <input type="radio" name="OTHERS" readonly="" id="UPI">
                                        <img src="https://img1a.flixcart.com/linchpin-web/batman-returns/logos/upiLogo6.gif"
                                            style="height: auto; width: 30px; padding-left:7px">

                                        <span style="padding-left:7px ;">UPI</span>
                                        <div>

                                            <div class="mt-3 ml-3">Choose an option</div>
                                            <div>
                                                <label for="PHONEPE" class="_2Fn-Ln _2Tms4C">
                                                    <input type="radio" class="ml-3" name="upiOptions" readonly=""
                                                        id="PHONEPE">
                                                    <span class="pl-2">PhonePe</span>
                                                    <div class="_2jIO64">
                                                        <div>
                                                        </div>
                                                    </div>
                                                </label>
                                                <label for="UPI_COLLECT" class="ml-3">
                                                    <input type="radio" class="_3DAmyP" name="upiOptions" readonly=""
                                                        id="UPI_COLLECT">
                                                    <span class=" pl-2">Your UPI ID</span>
                                                    <div class="_2jIO64">
                                                        <div>
                                                        </div>
                                                    </div>
                                                </label>

                                            </div>
                                        </div>
                                    </label> -->

                  <!-- <form [formGroup]="paymentMethodForm" (ngSubmit)="paymentMethodSubmit()">

                                        <label for="COD" class="_2Fn-Ln">
                                            <input type="radio" class="_3DAmyP" name="payment_mode" value="cod"  id="COD">
                                            <span class="pl-2"> Cash On Delivery</span></label>

                                        <label for="CREDIT" class="_2Fn-Ln">
                                            <input type="radio" class="_3DAmyP" name="payment_mode" value="card" id="CREDIT">
                                            <span class="pl-2">Credit / Debit / ATM Card</span></label>


                                        <label for="NET_OPTIONS">
                                            <input type="radio" class="_3DAmyP" name="payment_mode" value="netbanking" id="NET_OPTIONS">
                                            <span class="pl-2">Net Banking</span></label>

                                        <label for="EMI_OPTIONS" class="_2Fn-Ln ">
                                            <input type="radio" name="payment_mode" value="cardemi" id="EMI_OPTIONS">
                                            <span class="pl-2">EMI (Easy Installments)</span>
                                        </label>
                                        
                                        

                                    </form> -->
                  <button
                    class="btn"
                    style="float: right; background-color: #0e8ce4; color: #fff"
                    (click)="pay(cartitems)"
                  >
                    Pay Now
                  </button>
                  <br />
                  <form
                    #form
                    ngNoForm
                    id="nonseamless"
                    method="post"
                    name="redirect"
                    action="https://secure.ccavenue.com/transaction/transaction.do?command=initiateTransaction"
                  >
                    <input
                      type="hidden"
                      id="encRequest"
                      name="encRequest"
                      [ngModel]="encRequest"
                    />
                    <input
                      type="hidden"
                      name="access_code"
                      id="access_code"
                      [ngModel]="accessCode"
                    />
                  </form>
                  <div class="card">
                    <div class="container mt-4 mb-2">
                      <div class="row">
                        <h3 style="color: #428bca; font-weight: bold">
                          Price Details
                        </h3>
                        <div
                          class="col-12 mt-2"
                          style="color: black; font-size: 14px"
                        >
                          <span style="float: left; font-weight: 500"
                            >Product Price</span
                          >
                          <span style="float: right; font-weight: 500"
                            >₹ {{ total }}</span
                          >
                        </div>
                        <div
                          class="col-12 mt-2"
                          style="color: black; font-size: 14px"
                        >
                          <span style="float: left; font-weight: 500"
                            >Delivery Charges</span
                          >
                          <span style="float: right; font-weight: 500"
                            >₹ 0</span
                          >
                        </div>
                        <br />
                        <div
                          class="col-12 mt-3"
                          style="
                            color: black;
                            font-size: 14px;
                            font-weight: bold;
                          "
                        >
                          <span style="float: left">Order Total</span>
                          <span style="float: right">₹ {{ grandTotal }}</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div class="col-sm-4 mt-1 mb-2">
      <div class="card">
        <div class="container border-bottom">
          <div class="row" *ngFor="let row of cartitems; index as index">
            <div
              class="col-md-12"
              *ngFor="let subrow of row.cartData.productVariant"
            >
              <div class="row" *ngIf="subrow._id == row.varientId">
                <div class="col-md-7">
                  <p style="color: #0e8ce4; margin-top: 12px">
                    <b>{{ subrow.title }}</b>
                  </p>
                  <p style="font-size: 14px; margin-top: -17px">
                    {{ row.cartData.brandName }}
                  </p>
                  <p>Qty:{{ row.quantity }}</p>
                  <p style="margin-top: -10px">
                    <b>Rs. {{ subrow.yourPrice }}</b>
                  </p>
                </div>
                <div class="col-md-4">
                  <div class="card" style="height: 5rem; margin-top: 40px">
                    <img src="{{ subrow.MainImg }}" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card" style="height: 2rem; margin-top: 2px">
        <div class="container">
          <div class="row">
            <div class="col-6" style="margin-top: 4px">
              <p style="color: #0e8ce4">Total</p>
            </div>

            <div class="col-6 text-right" style="margin-top: 4px">
              <p style="color: #0e8ce4">Rs. {{ total }}</p>
            </div>
          </div>
          <div class="conatiner-fluid m-0 p-0">
            <button
              class="btn rkpoo"
              style="color: #fff; background-color: #0e8ce4"
            >
              Apply Coupon</button
            >&nbsp;

            <button
              class="btn"
              style="
                width: 8rem;
                height: 2.2rem;
                padding-bottom: 2px;
                font-size: 18px;
                color: #fff;
              "
            ></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-front-footer></app-front-footer>
